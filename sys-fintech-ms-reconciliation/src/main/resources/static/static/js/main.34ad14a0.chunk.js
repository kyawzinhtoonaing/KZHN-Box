(this["webpackJsonpreact-hibernate-app"]=this["webpackJsonpreact-hibernate-app"]||[]).push([[0],{61:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);a(35),a(36);var c=a(1),n=a.n(c),s=a(13),l=a.n(s),i=(a(61),a(15)),r=a(3),o=a(0);function d(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("header",{children:Object(o.jsx)("nav",{className:"navbar navbar-dark navbar-expand-md bg-dark",children:Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)("a",{className:"navbar-brand",href:"#",children:"Fin Tech"}),Object(o.jsxs)("button",{"data-bs-toggle":"collapse",className:"navbar-toggler","data-bs-target":"#navcol-1",children:[Object(o.jsx)("span",{className:"visually-hidden",children:"Toggle navigation"}),Object(o.jsx)("span",{className:"navbar-toggler-icon"})]}),Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navcol-1",children:Object(o.jsxs)("ul",{className:"navbar-nav",children:[Object(o.jsx)("li",{className:"nav-item"}),Object(o.jsx)("li",{className:"nav-item"}),Object(o.jsx)("li",{className:"nav-item"})]})})]})})}),Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsxs)("div",{className:"row mt-2",children:[Object(o.jsx)("div",{className:"col-md-3 col-lg-2 d-md-block collapse",id:"navcol-1",children:Object(o.jsx)("ul",{className:"nav nav-tabs flex-column shadow-sm",children:Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{className:"nav-link",to:Z[0].pages[0].path,children:"Reconciliation Helper"})})})}),Object(o.jsx)("div",{className:"col-md-9 col-lg-10",children:Object(o.jsx)("main",{children:function(){var e=[];return Z.forEach((function(t){t.pages.forEach((function(t){e.push(Object(o.jsx)(r.a,{exact:!0,path:t.path,children:Object(o.jsx)(t.component,{})},t.path))}))})),e}()})})]})}),Object(o.jsx)("footer",{})]})}function j(){return Object(o.jsx)(d,{})}var h=["TxComparison_ UploadFile1Change_Event","TxComparison_ UploadFile2Change_Event","TxComparison_ CompareButtonClick_Event","TxComparison_ UnmatchedReportButtonClick_Event"];function m(e){return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("div",{className:"card-header",children:"Specify files to compare"}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"uploadFile1",className:"form-label",children:"Select file 1"}),Object(o.jsx)("input",{type:"file",className:"form-control",id:"uploadFile1",onChange:function(t){!function(e,t){if(null!=e){var a=e[0],c={eventId:h[0],payload:{csvFile:a}};null===t||void 0===t||t.call(null,c)}}(t.target.files,e.uploadFile1ChangeEventHandler)}})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"uploadFile2",className:"form-label",children:"Select file 2"}),Object(o.jsx)("input",{type:"file",className:"form-control",id:"uploadFile2",onChange:function(t){!function(e,t){if(null!=e){var a=e[0],c={eventId:h[1],payload:{csvFile:a}};null===t||void 0===t||t.call(null,c)}}(t.target.files,e.uploadFile2ChangeEventHandler)}})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsxs)("button",{type:"button",className:"btn btn-dark",onClick:function(){!function(e,t,a){var c={eventId:h[2],payload:{csvFile1:e,csvFile2:t}};null===a||void 0===a||a.call(null,c)}(e.csvFile1,e.csvFile2,e.compareButtonClickEventHandler)},children:[e.isComparisonInProgress&&Object(o.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Compare"]})})]})]})}function p(e){return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("div",{className:"card-header",children:"Comparison results"}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("div",{className:"card",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h3",{className:"card-title",children:e.file1name}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:"Total Records:"}),Object(o.jsx)("div",{className:"col",children:e.file1LineCount})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:"Matching Records:"}),Object(o.jsx)("div",{className:"col",children:e.file1MatchCount})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:"Unmatched Records:"}),Object(o.jsx)("div",{className:"col",children:e.file1UnmatchCount})]})]})]})})}),Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("div",{className:"card",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h3",{className:"card-title",children:e.file2name}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:"Total Records:"}),Object(o.jsx)("div",{className:"col",children:e.file2LineCount})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:"Matching Records:"}),Object(o.jsx)("div",{className:"col",children:e.file2MatchCount})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:"Unmatched Records:"}),Object(o.jsx)("div",{className:"col",children:e.file2UnmatchCount})]})]})]})})})]}),Object(o.jsx)("div",{className:"col-auto mt-3",children:Object(o.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){!function(e){var t={eventId:h[3],payload:{}};null===e||void 0===e||e.call(null,t)}(e.unmatchedReportButtonClickEventHandler)},children:"Unmatched Report"})})]})]})}var b=["UnmatchedReport_ UnmatchedReportClose_Event"];function u(e){return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsxs)("div",{className:"card-header",children:["Unmatched report",Object(o.jsx)("button",{type:"button",className:"btn-close position-absolute end-0 me-2","aria-label":"Close",onClick:function(){!function(e){var t={eventId:b[0],payload:{}};null===e||void 0===e||e.call(null,t)}(e.unmatchedReportCloseEventHandler)}})]}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("div",{className:"table-responsive",children:Object(o.jsxs)("table",{className:"table table-bordered text-nowrap",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"Transaction ID"}),Object(o.jsx)("th",{children:"File Name"}),Object(o.jsx)("th",{children:"Line No."}),Object(o.jsx)("th",{children:"Profile Name"}),Object(o.jsx)("th",{children:"Transaction Date"}),Object(o.jsx)("th",{children:"Transaction Amount"}),Object(o.jsx)("th",{children:"Transaction Narrative"}),Object(o.jsx)("th",{children:"Transaction Description"}),Object(o.jsx)("th",{children:"Transaction Type"}),Object(o.jsx)("th",{children:"Wallet Reference"})]})}),Object(o.jsx)("tbody",{children:e.misMatchDetailReports.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t+1}),Object(o.jsx)("td",{children:e.isFirstTxid?e.jobTxId.txid:""}),Object(o.jsx)("td",{children:e.jobTxId.filename}),Object(o.jsx)("td",{children:e.jobTxId.lineno}),Object(o.jsx)("td",{children:e.isPfNameMatched?e.pfName:Object(o.jsx)("span",{className:"bg-warning",children:e.pfName})}),Object(o.jsx)("td",{children:e.isTxDateMatched?e.txDate:Object(o.jsx)("span",{className:"bg-warning",children:e.txDate})}),Object(o.jsx)("td",{children:e.isTxAmtMatched?e.txAmt:Object(o.jsx)("span",{className:"bg-warning",children:e.txAmt})}),Object(o.jsx)("td",{children:e.isTxNrtiveMatched?e.txNrtive:Object(o.jsx)("span",{className:"bg-warning",children:e.txNrtive})}),Object(o.jsx)("td",{children:e.isTxDscptMatched?e.txDscpt:Object(o.jsx)("span",{className:"bg-warning",children:e.txDscpt})}),Object(o.jsx)("td",{children:e.isTxTypeMatched?e.txType:Object(o.jsx)("span",{className:"bg-warning",children:e.txType})}),Object(o.jsx)("td",{children:e.isWalletRefMatched?e.walletRef:Object(o.jsx)("span",{className:"bg-warning",children:e.walletRef})})]},"".concat(e.jobTxId.txid).concat(e.jobTxId.filename).concat(e.jobTxId.lineno))}))})]})})})]})}var x=a(10),v=a.n(x),f=a(16),O=a(17),N=Object(O.b)({name:"rc",initialState:{csvFile1:null,csvFile2:null,csvComparisonStatus:0,brokenIntegrityReports:null,misMatchSummaryReport:null,misMatchDetailReports:null,showMisMatchDetailReports:!1},reducers:{setCsvFile1:function(e,t){e.csvFile1=t.payload},setCsvFile2:function(e,t){e.csvFile2=t.payload},setCsvComparisonStatus:function(e,t){e.csvComparisonStatus=t.payload},setBrokenIntegrityReports:function(e,t){e.brokenIntegrityReports=t.payload},setMisMatchSummaryReport:function(e,t){e.misMatchSummaryReport=t.payload},setMisMatchDetailReports:function(e,t){e.misMatchDetailReports=t.payload},setShowMisMatchDetailReports:function(e,t){e.showMisMatchDetailReports=t.payload}}}),C=N.actions,g=C.setCsvFile1,M=C.setCsvFile2,y=C.setCsvComparisonStatus,R=C.setBrokenIntegrityReports,F=C.setMisMatchSummaryReport,T=C.setMisMatchDetailReports,w=C.setShowMisMatchDetailReports,D=function(e){return e.rc.csvFile1},k=function(e){return e.rc.csvFile2},I=function(e){return e.rc.csvComparisonStatus},S=function(e){return e.rc.misMatchSummaryReport},E=function(e){return e.rc.misMatchDetailReports},U=function(e){return e.rc.showMisMatchDetailReports},H=N.reducer,B=Object(O.a)({reducer:{rc:H}}),_=a(18),A=a.n(_);function L(e,t){return P.apply(this,arguments)}function P(){return(P=Object(f.a)(v.a.mark((function e(t,a){var c,n,s,l,i,r,o,d,j,h,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,e.prev=1,s={headers:{"content-type":"multipart/form-data",Accept:"application/json"}},"rc/servicdesk/job",(l=new FormData).append("csvFile1",t),l.append("csvFile2",a),e.next=9,A.a.post("rc/servicdesk/job",l,s);case 9:return i=e.sent,r=i.data,"rc/batchapp/startjob",(o=new FormData).append("jobId",r.id?r.id:""),e.next=16,A.a.post("rc/batchapp/startjob",o,s);case 16:return d="rc/servicdesk/reports/".concat(r.id),j={headers:{Accept:"application/json"}},e.next=20,A.a.get(d,j);case 20:h=e.sent,c=h.data,m=(null===(n=c)||void 0===n?void 0:n.misMatchDetailReports)?c.misMatchDetailReports:null,W(r.file1name,r.file2name,m),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(1),console.log(e.t0);case 29:return e.abrupt("return",c);case 30:case"end":return e.stop()}}),e,null,[[1,26]])})))).apply(this,arguments)}function W(e,t,a){if(null!==a){var c="",n="",s=[],l=[];a.forEach((function(a){if(c!==a.jobTxId.txid){var i=0,r=s.length,o=l.length;i=r===o||r>o?r:o;for(var d=0;d<i;d++){var j=d<r?s[d]:null,h=d<o?l[d]:null;if(null!==j&&null!==h){var m=j.pfName===h.pfName,p=j.txDate===h.txDate,b=j.txAmt===h.txAmt,u=j.txNrtive===h.txNrtive,x=j.txDscpt===h.txDscpt,v=j.txType===h.txType,f=j.walletRef===h.walletRef,O=0===d&&n===j.jobTxId.filename,N=0===d&&n===h.jobTxId.filename;J(j,O,m,p,b,u,x,v,f),J(h,N,m,p,b,u,x,v,f)}else null!==j?J(j,!0,!1,!1,!1,!1,!1,!1,!1):null!==h&&J(h,!0,!1,!1,!1,!1,!1,!1,!1)}c=a.jobTxId.txid,n=a.jobTxId.filename,s=n===e?[a]:[],l=n===t?[a]:[]}else{var C=a.jobTxId.filename;C===e?s.push(a):C===t&&l.push(a)}}))}}function J(e,t,a,c,n,s,l,i,r){e.isFirstTxid=t,e.isPfNameMatched=a,e.isTxDateMatched=c,e.isTxAmtMatched=n,e.isTxNrtiveMatched=s,e.isTxDscptMatched=l,e.isTxTypeMatched=i,e.isWalletRefMatched=r}var $=function(e){B.dispatch(g(e.payload.csvFile)),0!==B.getState().rc.csvComparisonStatus&&Q()},q=function(e){B.dispatch(M(e.payload.csvFile)),0!==B.getState().rc.csvComparisonStatus&&Q()},z=function(){var e=Object(f.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.dispatch(y(1)),B.dispatch(R(null)),B.dispatch(F(null)),B.dispatch(T(null)),B.dispatch(w(!1)),e.next=7,L(t.payload.csvFile1,t.payload.csvFile2);case 7:a=e.sent,B.dispatch(y(2)),null!==a&&(B.dispatch(R(a.brokenIntegrityReports)),B.dispatch(F(a.misMatchSummaryReport)),B.dispatch(T(a.misMatchDetailReports)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){B.dispatch(w(!0))},K=function(e){B.dispatch(w(!1))};function Q(){B.dispatch(y(0)),B.dispatch(R(null)),B.dispatch(F(null)),B.dispatch(T(null)),B.dispatch(w(!1))}var V=a(12),X=V.c;function Y(){var e=X(D),t=X(k),a=X(I),c=X(S),n=X(E),s=X(U);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{className:"text-start",children:"Reconciliation Helper"}),Object(o.jsx)("hr",{}),Object(o.jsx)(m,{csvFile1:e,csvFile2:t,isComparisonInProgress:1===a,uploadFile1ChangeEventHandler:$,uploadFile2ChangeEventHandler:q,compareButtonClickEventHandler:z}),Object(o.jsx)("hr",{}),c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p,{file1name:c.file1name?c.file1name:"",file1LineCount:c.file1LineCount?c.file1LineCount:0,file1MatchCount:c.file1MatchCount?c.file1MatchCount:0,file1UnmatchCount:c.file1UnmatchCount?c.file1UnmatchCount:0,file2name:c.file2name?c.file2name:"",file2LineCount:c.file2LineCount?c.file2LineCount:0,file2MatchCount:c.file2MatchCount?c.file2MatchCount:0,file2UnmatchCount:c.file2UnmatchCount?c.file2UnmatchCount:0,unmatchedReportButtonClickEventHandler:G}),Object(o.jsx)("hr",{})]}),null!==n&&void 0!==n&&n.length>0&&s&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u,{misMatchDetailReports:n,unmatchedReportCloseEventHandler:K}),Object(o.jsx)("hr",{})]})]})}var Z=[{path:"/rc",component:j,pages:[{path:"/rc/index",component:Y}]},{path:"/",component:j,pages:[{path:"/",component:Y}]}];var ee=function(){return Object(o.jsx)(i.a,{children:Object(o.jsx)(r.c,{children:Z.map((function(e){return Object(o.jsx)(r.a,{path:e.path,children:Object(o.jsx)(e.component,{})},e.path)}))})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(V.a,{store:B,children:Object(o.jsx)(ee,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[87,1,2]]]);
//# sourceMappingURL=main.34ad14a0.chunk.js.map